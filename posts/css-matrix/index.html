<!DOCTYPE html>



 <html class="no-js"> 
<head>
    <title>CSS Tranform 的 Matrix函数  &middot; luneS&#39;s garden </title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="content-language" content="en-us" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="luneS">
    <meta name="description" content="高校生">
    <meta name="generator" content="Hugo 0.55.0" />

    <!-- Stylesheets -->
    <link rel="shortcut icon" href="https://luneshao.github.io//favicon.ico">
    <link rel="stylesheet" href="https://luneshao.github.io/css/smooth-scrollbar.css" />
    <link rel="stylesheet" type="text/css" href="https://luneshao.github.io/css/main.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/tomorrow.min.css" />
    

    <style>
        .posts li {
            visibility: hidden;
        }
    </style> 
</head>
<body>
    
    

    <header>	
	<div class="h-wrap">
		
		<h1 class="title"><a href="https://luneshao.github.io/">luneS&#39;s garden</a></h1>
		
	</div>
</header>
    
    <div class="site-wrapper" id="full-wrapper">
        
        <section class="single-wrap">
            <article class="single-content" itemscope itemtype="//schema.org/BlogPosting">
                <div class="feat">
                    <h5 class="page-date">
                    <time datetime="" itemprop="datePublished">
                    29 May 2019
                   
                    </time>
                    </h5>
                </div>
                <h1 class="page-title" itemprop="name headline">CSS Tranform 的 Matrix函数</h1>
                <div itemprop="articleBody">
                    <p>插播一句：<code>translate</code> 的百分比是相对于自身的宽高计算的。</p>

<p>插播2：计算角度值 eg：已知 sin(a) = 1，求 a？。 a = Math.asin(1) * 180 / Math.PI</p>

<p>这也是关于优化 js 代码衍生出来的内容，过程是这样的。</p>

<ol>
<li>文章里说 Array.from 代替 Array.prototype.slice.call(arrayLike)，😳Array.prototype.slice.call(arrayLike) 是不是截取数组的嘛，查了一下文档 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/slice#Array-like">MDN</a> ，原来将这个方法绑定到类数组对象/集合上，就可以转化为一个数组。过程中，看到了这篇<a href="https://www.cnblogs.com/ariel-zhang/p/7288455.html">博客</a>，大佬是真的🐂🍺，里边就写到了计算用 window.getComputedStyle(dom, 伪类) 获取值，本来我是忽略过去的，但是，好奇心让我测试了一下。。得到了一个这个东西。</li>
</ol>

<p><img src="/img/0529-cm-eg1.jpg" alt="返回值图片" /></p>

<p>这是啥？我不认识啊？？还是乖乖的学一下吧。</p>

<p>于是学习了 <a href="https://www.zhangxinxu.com/wordpress/2012/06/css3-transform-matrix-%E7%9F%A9%E9%98%B5/">张鑫旭前辈的文章</a>，这是一个矩阵，是transform变换的基础。我们可以根据这个矩阵里面的值推算出，transform 属性的值。</p>

<p>其格式为：Matrix(a, b, c, d, e, f) 具体的介绍请直接看前辈文章的第五节。</p>

<p>借前辈图，translate &amp; scale 的转换公式如下。 ：</p>

<p><img src="http://image.zhangxinxu.com/image/blog/201206/css-transforms-matrix5.gif" alt="转换公式图片" /></p>

<ul>
<li><p>translate 值的计算。</p>

<ul>
<li>x, y ：表示转换元素的所有坐标（变量）矩阵偏移元素的中心点。</li>
<li>ax+cy+e ：变换后的x坐标</li>
<li>bx+dy+f ：变换后的y坐标</li>
</ul></li>
</ul>

<ol>
<li>scale 值的计算。</li>
</ol>

<p><code>matrix(s, 0, 0, s, 0, 0);</code> s 即为 scale 的值。</p>

<ol>
<li>rotate 值的计算。</li>
</ol>

<p>方法及参数</p>

<p><code>matrix(cosθ,sinθ,-sinθ,cosθ,0,0)</code></p>

<p>对应公式</p>

<pre><code class="language-js">x' = x * cosθ - y * sinθ + 0 = x * cosθ - y * sinθ
y' = x * sinθ + y * cosθ + 0 = x * sinθ + y * cosθ
</code></pre>

<ol>
<li>skew 值的计算。</li>
</ol>

<p>方法及参数</p>

<p><code>matrix(1,tan(θy),tan(θx),1,0,0)</code></p>

<p>对应公式</p>

<pre><code class="language-js">x' = x + y * tan(θx) + 0 = x + y * tan(θx) 
y' = x * tan(θy) + y + 0 = x * tan(θy) + y
</code></pre>

<p>目前看到第七部分，关于 <code>Matrix</code> 的使用，内容镜像。莫的全看完。 &ndash;20190529</p>

<p>时光匆匆如流水，太快了，五月快结束了。</p>

<blockquote>
<p>感谢前辈👏🏻</p>
</blockquote>
                    
                </div>
                <div class="feat share">
                </div>
                
                
                
            </article>
        </section>

        <footer>
	
</footer>
    </div>

    <div class="next-prev-arrows">
        
            <a rel="next" href="https://luneshao.github.io/posts/window-requestanimationframe/" id="next">
                &larr; <span class="nav-title nav-title-next">window requestAnimationFrame 方法</span> 
            </a>
        
        
            <a rel="prev" href="https://luneshao.github.io/posts/element-expland/" id="prev">
                 <span class="nav-title nav-title-prev">=8 element 对象的拓展</span> &rarr;
            </a>
        
    </div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://luneshao.github.io/js/scrollreveal.min.js"></script>
<script type='application/javascript' src='https://luneshao.github.io/js/smooth-scrollbar.js'></script>
<script src="https://luneshao.github.io/js/baffle.min.js"></script>
<script src="https://luneshao.github.io/js/main.js"></script>





<!-- Syntax highlighting -->
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
