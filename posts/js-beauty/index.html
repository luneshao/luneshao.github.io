<!DOCTYPE html>



 <html class="no-js"> 
<head>
    <title>js 代码美化  &middot; luneS&#39;s garden </title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="content-language" content="en-us" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="luneS">
    <meta name="description" content="高校生">
    <meta name="generator" content="Hugo 0.55.0" />

    <!-- Stylesheets -->
    <link rel="shortcut icon" href="https://luneshao.github.io//favicon.ico">
    <link rel="stylesheet" href="https://luneshao.github.io/css/smooth-scrollbar.css" />
    <link rel="stylesheet" type="text/css" href="https://luneshao.github.io/css/main.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/tomorrow.min.css" />
    

    <style>
        .posts li {
            visibility: hidden;
        }
    </style> 
</head>
<body>
    
    

    <header>	
	<div class="h-wrap">
		
		<h1 class="title"><a href="https://luneshao.github.io/">luneS&#39;s garden</a></h1>
		
	</div>
</header>
    
    <div class="site-wrapper" id="full-wrapper">
        
        <section class="single-wrap">
            <article class="single-content" itemscope itemtype="//schema.org/BlogPosting">
                <div class="feat">
                    <h5 class="page-date">
                    <time datetime="" itemprop="datePublished">
                    27 May 2019
                   
                    </time>
                    </h5>
                </div>
                <h1 class="page-title" itemprop="name headline">js 代码美化</h1>
                <div itemprop="articleBody">
                    

<p><a href="https://github.com/airbnb/javascript">github完整文章连接</a></p>

<h3 id="objects">Objects</h3>

<ul>
<li>1.1 将简写属性，放在对象定义的开始部分。</li>
</ul>

<pre><code class="language-js">// bad
const obj = {
  key1: 2,
  key2,
  key3: 2,
}

// good
const obj = {
  key2,
  key4,
  key1: 2,
  key3: 2,
}
</code></pre>

<ul>
<li>1.2 不要直接调用 <code>Object.prototype</code>，例如 <code>hasOwnProperty</code>， <code>propertyIsEnumerable</code>，</li>
</ul>

<p>因为这些名字没有被 <code>Javascript</code> 保留，如果被重新定义就会被覆盖。所以，最好是在原型链上调用。</p>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty#Using_hasOwnProperty_as_a_property_name">MDN相关连接</a></p>

<pre><code class="language-js">// bad 
const a = obj.hasOwnProperty('name')

// good 
const a = Object.prototype.hasOwnProperty.call(obj, 'name')

// best 
// has.js
const has = Object.prototype.hasOwnProperty

// use.js
import has from './has.js'
const a = has.call(obj, 'name')
</code></pre>

<ul>
<li><p>1.3 使用 <strong>解构赋值</strong> 和 <strong>拓展运算</strong> 实现对象的浅拷贝。</p></li>

<li><p>1.4 <code>Object</code> 的 <code>delete</code> 运算符</p></li>
</ul>

<p>用于删除对象的某个属性，如果没有指向这个属性的引用，那它最终会被释放。</p>

<pre><code class="language-js">delete object.property 
delete object['property']
</code></pre>

<pre><code class="language-js">const obj1 = {a: 1, b: 2}

// very bad
const copy = Object.assign(obj1, {c: 3}) // 会修改源数据

// bad
const copy = Object.assign({}, obj1, {c: 3})

// good 
const copy = {...obj1, {c: 3}}

const {a, ...z} = copy // z = {b: 2, c: 3}
</code></pre>

<h3 id="array">Array</h3>

<ul>
<li>2.1 将可迭代的对象转换为数组，最好使用 <strong>拓展运算符 &hellip;</strong>，而不是 <code>Array.from</code></li>
</ul>

<pre><code class="language-js">const array = document.querySelectorAll('div')

// good
const itArr = Array.from (array)

// best 
const itArr = [...array]

</code></pre>

<ul>
<li>2.2 使用 <code>Array.from()</code> 将一个类数组的对象转换为数组。</li>
</ul>

<pre><code class="language-js">const obj = {0: 'a', 1: 'b', 2: 'c'}

// bad
const arr = Array.prototype.slice.call(arrLike);

// good
const arr = Array.from (obj)
</code></pre>

<blockquote>
<p><strong>拓展延伸：</strong></p>
</blockquote>
                    
                </div>
                <div class="feat share">
                </div>
                
                
                
            </article>
        </section>

        <footer>
	
</footer>
    </div>

    <div class="next-prev-arrows">
        
            <a rel="next" href="https://luneshao.github.io/posts/js-expland/" id="next">
                &larr; <span class="nav-title nav-title-next">=8 js 拓展</span> 
            </a>
        
        
            <a rel="prev" href="https://luneshao.github.io/posts/css-clip/" id="prev">
                 <span class="nav-title nav-title-prev">CSS 的 clip 属性</span> &rarr;
            </a>
        
    </div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://luneshao.github.io/js/scrollreveal.min.js"></script>
<script type='application/javascript' src='https://luneshao.github.io/js/smooth-scrollbar.js'></script>
<script src="https://luneshao.github.io/js/baffle.min.js"></script>
<script src="https://luneshao.github.io/js/main.js"></script>





<!-- Syntax highlighting -->
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
