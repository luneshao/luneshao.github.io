<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="LuneShao">
  <meta name="description" content="è¿™é‡Œæ˜¯luneçš„ä¸ªäººåšå®¢ï¼Œä¸»è¦è®°å½•äº†å‰ç«¯å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œæ¬¢è¿å„ä½å¤§ä½¬è¿›æ¥å–èŒ¶ã€‚å¦‚æœæ–‡ç« ä¸­æœ‰é”™è¯¯çš„åœ°æ–¹ï¼Œè¿˜è¯·å„ä½å¤§ä½¬ä¸åèµæ•™ï¼Œä¸‡åˆ†æ„Ÿè°¢ã€‚">
  <meta name="keywords" content="luneshaoï¼Œä¸€ç“¶è‚¥å®…å¿«ä¹æ°´ï¼Œåšå®¢ï¼Œå‰ç«¯ï¼Œå°éª¨é±¼">
  
  <link rel="prev" href="https://luneshao.github.io/2020/2020-03-22-html-note/" />
  <link rel="next" href="https://luneshao.github.io/2020/2020-04-02-tencent-server-ssh/" />
  <link rel="canonical" href="https://luneshao.github.io/2020/2020-03-23-jekyll-blog/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="icon" href="/img/favicon.ico" />
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           Jekyll æ­å»ºåšå®¢æ­¥éª¤ | Luneshao
       
  </title>
  <meta name="title" content="Jekyll æ­å»ºåšå®¢æ­¥éª¤ | Luneshao">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/luneshao.github.io\/"
    },
    "articleSection" : "posts",
    "name" : "Jekyll æ­å»ºåšå®¢æ­¥éª¤",
    "headline" : "Jekyll æ­å»ºåšå®¢æ­¥éª¤",
    "description" : "jekyll åˆ›å»ºåŠéƒ¨ç½²åšå®¢çš„æ­¥éª¤ã€‚",
    "inLanguage" : "en-us",
    "author" : "luneShao",
    "creator" : "luneShao",
    "publisher": "luneShao",
    "accountablePerson" : "luneShao",
    "copyrightHolder" : "luneShao",
    "copyrightYear" : "2020",
    "datePublished": "2020-03-23 10:36:26 \x2b0800 CST",
    "dateModified" : "2020-03-23 10:36:26 \x2b0800 CST",
    "url" : "https:\/\/luneshao.github.io\/2020\/2020-03-23-jekyll-blog\/",
    "wordCount" : "1468",
    "keywords" : [ "jekyll", "Luneshao"]
}
</script>

  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://luneshao.github.io/">Luneshao</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/" title="">é¦–é¡µ</a>
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/about/" title=""></a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://luneshao.github.io/">Luneshao</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/" title="">é¦–é¡µ</a>
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/about/" title=""></a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Jekyll æ­å»ºåšå®¢æ­¥éª¤</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://luneshao.github.io/" rel="author">luneShao</a> with â™¥ 
                <span class="post-time">
                on <time datetime=2020-03-23 itemprop="datePublished">March 23, 2020</time>
                </span>
                in
                
                <span id="/2020/2020-03-23-jekyll-blog/" class="leancloud_visitors post-meta" data-flag-title="Jekyll æ­å»ºåšå®¢æ­¥éª¤">
                    <span style="font-size: 14px;margin-left: 20px;">æœ¬æ–‡ç´¯è®¡è¢«é˜…è¯» <i class="leancloud-visitors-count"></i> æ¬¡</span>
                </span>
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          

<h1 id="åˆ†å¸ƒæ•™ç¨‹">åˆ†å¸ƒæ•™ç¨‹</h1>

<h2 id="1-setup">1. Setup</h2>

<h3 id="installation">installation</h3>

<p>å®‰è£… Jekyll</p>

<pre><code>gem install jekyll bundler
</code></pre>

<p>åˆ›å»º Gemfile</p>

<pre><code>bundle init
</code></pre>

<p>ç¼–è¾‘ Gemfileï¼Œæ·»åŠ  Jekyll ä½œä¸ºä¾èµ–</p>

<pre><code>gem &quot;jekyll&quot;
</code></pre>

<p>è¿è¡Œ bundle å®‰è£… Jekyll åˆ°é¡¹ç›®ã€‚</p>

<pre><code>bundle
</code></pre>

<p>ç°åœ¨å¯ä»¥åœ¨ Jekyll çš„å‘½ä»¤å‰åŠ ä¸Š bundle execï¼Œä»¥ç¡®ä¿ä½¿ç”¨ Gemfile ä¸­çš„ Jekyll ç‰ˆæœ¬ã€‚</p>

<h3 id="create-a-site">Create a site</h3>

<p>ä¸ºç½‘ç«™åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œåç§°å¯ä»¥ä»»æ„èµ·ã€‚åœ¨æ•™ç¨‹çš„å…¶ä½™éƒ¨åˆ†ï¼Œå°†ç§°å…¶ä¸º root.
åœ¨ root ç›®å½•æ·»åŠ ç¬¬ä¸€ä¸ªæ–‡ä»¶ index.htmlã€‚</p>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;title&gt;Home&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello World!&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h3 id="build">build</h3>

<p>Jekyll æ˜¯é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ Jekyll æ„å»ºç½‘ç«™æ‰èƒ½æŸ¥çœ‹ã€‚æ‚¨å¯ä»¥åœ¨ç½‘ç«™çš„æ ¹ç›®å½•ä¸­è¿è¡Œä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤æ¥æ„å»ºå®ƒï¼š</p>

<ul>
<li>jekyll buildï¼šæ„å»ºç½‘ç«™è¾“å‡ºé™æ€ç«™ç‚¹åˆ°åä¸º <code>_site</code> çš„ç›®å½•ä¸‹ã€‚</li>
<li>jekyll serveï¼šé™¤äº†åœ¨æ‚¨è¿›è¡Œæ›´æ”¹å¹¶è¿è¡Œæœ¬åœ° Web æœåŠ¡å™¨æ—¶ä¼šé‡æ–°ç”Ÿæˆä¹‹å¤–ï¼Œè¿˜ä¼šè¿è¡Œä¸€ä¸ª web æœåŠ¡åœ¨ <a href="http://localhost:4000" rel="nofollow noreferrer" target="_blank">http://localhost:4000</a></li>
</ul>

<h2 id="2-liquid">2. Liquid</h2>

<p>Liquid æ˜¯ä¸€ä¸ªæ¨¡ç‰ˆè¯­è¨€ï¼ŒåŒ…å«ä¸‰ä¸ªä¸»è¦çš„éƒ¨åˆ†ï¼šobjectsï¼Œtags å’Œ filters</p>

<h3 id="objects">objects</h3>

<p>objects è¡¨ç¤ºè¾“å‡ºå†…å®¹ï¼Œç”¨èŠ±æ‹¬å·è¡¨ç¤ºã€‚</p>

<pre><code class="language-Liquid">{{ page.content }}
</code></pre>

<h3 id="tags">tags</h3>

<p>tags ä¸ºæ¨¡æ¿åˆ›å»ºé€»è¾‘å’Œæ§åˆ¶æµã€‚ç”¨èŠ±æ‹¬å·å’Œç™¾åˆ†å·è¡¨ç¤ºã€‚</p>

<pre><code class="language-Liquid">{% if page.show_sidebar %}
  &lt;div class=&quot;sidebar&quot;&gt;
    sidebar content
  &lt;/div&gt;
{% endif %}
</code></pre>

<h3 id="filters">filters</h3>

<p>è¿‡æ»¤å™¨æ›´æ”¹ Liquid å¯¹è±¡çš„è¾“å‡ºã€‚å®ƒä»¬åœ¨è¾“å‡ºä¸­ä½¿ç”¨ï¼Œå¹¶ç”¨ <code>|</code> åˆ†éš”ã€‚</p>

<pre><code class="language-Liquid">{{ &quot;h1&quot; | title }}
</code></pre>

<h3 id="use-liquid">use Liquid</h3>

<p>ä¸ºäº†è®© Jekyll å¤„ç† Liquidï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡µé¢é¡¶éƒ¨æ·»åŠ  Front Matterï¼š</p>

<pre><code class="language-YAML">---
# front matter tells Jekyll to process Liquid
---
</code></pre>

<h2 id="3-front-matter">3. Front Matter</h2>

<p>front matter æ˜¯ <code>YAML</code> çš„ä¸€ä¸ªç‰‡æ®µï¼Œå®ƒä½äºæ–‡ä»¶é¡¶éƒ¨çš„ä¸¤ä¸ªä¸‰ç‚¹åˆ’çº¿ä¹‹é—´ã€‚front matter ç”¨äºè®¾ç½®é¡µé¢å˜é‡ï¼Œä¾‹å¦‚ï¼š</p>

<pre><code class="language-YAML">---
my_number: 5
---
</code></pre>

<p>åœ¨ Liquid ä¸­ front matter å˜é‡å¯ä»¥åœ¨ <code>page</code> å˜é‡ä¸‹ä½¿ç”¨ã€‚ä¾‹å¦‚:</p>

<pre><code class="language-YAML">{{ page.my_number }}
</code></pre>

<p>è¯·æ³¨æ„ï¼Œä¸ºäº†è®© Jekyll å¤„ç†æ‚¨é¡µé¢ä¸Šçš„æ‰€æœ‰ Liquid æ ‡ç­¾ï¼Œæ‚¨å¿…é¡»åœ¨å…¶ä¸ŠåŒ…å« front matterã€‚æ‚¨å¯ä»¥åŒ…æ‹¬çš„æœ€ç®€å•çš„ front matter æ˜¯ï¼š</p>

<pre><code class="language-YAML">---
---
</code></pre>

<h2 id="4-layouts">4. Layouts</h2>

<p>æå–æ¯ä¸ªé¡µé¢å…¬å…±çš„éƒ¨åˆ†ä½œä¸ºæ¨¡ç‰ˆï¼Œä½œä¸ºå†…å®¹çš„å®¹å™¨ã€‚ä»–ä»¬æ”¾åœ¨ <code>_layouts</code> ç›®å½•ä¸‹ã€‚åœ¨æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª <code>about.md</code> æ–‡ä»¶ã€‚</p>

<h3 id="create-a-layout">create a layout</h3>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;title&gt;{{ page.title }}&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    {{ content }}
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>ä½¿ç”¨ layout æ›¿æ¢ index.html ä¸­çš„å†…å®¹ã€‚å¯ä»¥åœ¨ front matter ä¸­è®¾ç½®ä¸€ä¸ª layout å˜é‡ï¼Œlayout åŒ…è£¹ç€é¡µé¢ä¸­çš„ content ï¼Œæ‰€ä»¥ä½ åªéœ€è¦å¦‚ä¸‹ï¼š</p>

<pre><code class="language-html">---
layout: default
title: Home
---

&lt;h1&gt;{{ 'Hello world' || downcase }}&lt;/h1&gt;
</code></pre>

<p>å¦‚ä¸Šæ“ä½œå°†å’Œä¹‹å‰çš„è¾“å‡ºä¸€è‡´ã€‚æ³¨æ„ï¼Œä½ å¯ä»¥åœ¨ layout ä¸­è®¿é—®åˆ°é¡µé¢ä¸­çš„ front matterã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œtitle åœ¨ index é¡µè®¾ç½®ä½†æ˜¯åœ¨ layout ä¸­è¾“å‡ºã€‚</p>

<h3 id="about-page">about page</h3>

<p>å›åˆ° <code>about.md</code> æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ layoutã€‚å¦‚ä¸‹å†™å…¥ï¼š</p>

<pre><code class="language-md">---
layout: default
title: about
---

# about page

this page tell you a little bit about mev
</code></pre>

<p>æ­å–œä½ ï¼Œç°åœ¨æ‹¥æœ‰äº†ä¸¤ä¸ªé¡µé¢ï¼Œä¸‹é¢å°†å­¦ä¹ å¦‚æœå¯¼èˆªè·³è½¬è¿™ä¸¤ä¸ªé¡µã€‚</p>

<h2 id="5-includes">5. includes</h2>

<p>è¿™äº›ç½‘é¡µèšé›†åœ¨ä¸€ä¸ªç«™ç‚¹ä¸Šï¼Œä½†æ˜¯å´æ²¡æœ‰åœ¨ä»–ä»¬ä¹‹é—´è¿›è¡Œå¯¼èˆªï¼Œè®©æˆ‘ä»¬æ¥ä¿®å¤ä¸€ä¸‹ã€‚
navigation åº”è¯¥åœ¨æ¯ä¸€ä¸ªç½‘é¡µä¸Šï¼Œæ‰€ä»¥æŠŠå®ƒåŠ åœ¨ layout ä¸­æ˜¯æ­£ç¡®çš„åœ°æ–¹ã€‚ä»£æ›¿ç›´æ¥åŠ å…¥åˆ° layout ä¸­ï¼Œå€Ÿæ­¤æœºä¼šå­¦ä¹ ä¸€ä¸‹ includesã€‚</p>

<h3 id="include-tag">include tag</h3>

<p><code>include</code> tag å…è®¸å¼•å…¥æ¥è‡ª <code>_includes</code> æ–‡ä»¶å¤¹ä¸­æ–‡ä»¶çš„å†…å®¹ã€‚Includes å¯¹äºåœ¨ç«™ç‚¹ä¸­é‡å¤ä¸€ä¸ªå•ä¸€æ¥æºçš„æºä»£ç æˆ–æå‡å¯é˜…è¯»æ€§å¾ˆæœ‰ç”¨ã€‚</p>

<h3 id="include-usage">include usage</h3>

<p>åˆ›å»º <code>_includes/navigation.html</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>

<pre><code class="language-html">&lt;nav&gt;
  &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
  &lt;a href=&quot;/about.html&quot;&gt;About&lt;/a&gt;
&lt;/nav&gt;
</code></pre>

<p>å°è¯•åœ¨ <code>_layouts/default.html</code> ä¸­æ·»åŠ  include tagã€‚</p>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;title&gt;{{ page.title }}&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    {% include navigation.html %}
    &lt;!--  --&gt;
    {{content}}
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h3 id="current-page-highlighting">current page highlighting</h3>

<p>jakyll ä¸­çš„ <code>page.url</code> å˜é‡å¯ä»¥è·å–åˆ°å½“å‰çš„å±•ç¤ºçš„ urlã€‚ ä½¿ç”¨ <code>page.url</code> å¯ä»¥æ£€æŸ¥å½“å‰é¡µçš„ URLï¼Œå¹¶ä¸”æ ‡è®°ä¸ºçº¢è‰²ã€‚</p>

<pre><code class="language-html">&lt;nav&gt;
  &lt;a href=&quot;/&quot; {% if page.url == &quot;/&quot; %} style=&quot;color: red&quot; {% endif %}&gt;Home&lt;/a&gt;
  &lt;a href=&quot;/about&quot; {% if page.url == &quot;/about&quot; %} style=&quot;color: red&quot; {% endif %}&gt;About&lt;/a&gt;
&lt;/nav&gt;
</code></pre>

<p>å¦‚æœæˆ‘ä»¬æƒ³æ·»åŠ ä¸€ä¸ªæ–°çš„å¯¼èˆªé€‰é¡¹ï¼Œç°åœ¨ä¾ç„¶éœ€è¦é‡å¤ä¸€å†™ä»£ç ã€‚ä¸‹ä¸€æ­¥æˆ‘ä»¬å°†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>

<h2 id="6-data-files">6. data files</h2>

<p>jekyll æ”¯æŒä» <code>_data</code> ç›®å½•ä¸‹åŠ è½½ YAMLã€JSON å’Œ csv æ–‡ä»¶çš„æ•°æ®ã€‚data files æ˜¯ä¸€ç§å¾ˆå¥½çš„æ–¹å¼ï¼Œå¯ä»¥å°†å†…å®¹ä»æºä»£ç ä¸­åˆ†å‰²å‡ºæ¥ä¾¿äºç»´æŠ¤ã€‚</p>

<h3 id="data-file-usage">data file usage</h3>

<p>åœ¨ Ruby ç”Ÿæ€ç³»ç»Ÿä¸­ï¼ŒYAML æ˜¯ä¸€ç§å¸¸è§çš„æ ¼å¼ã€‚
åˆ›å»ºä¸€ä¸ª data æ–‡ä»¶ï¼Œ<code>_data/navigation.yml</code> è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>

<pre><code class="language-yml">- name: Home
  link: /
- name: About
  link: /about.html
</code></pre>

<p>Jekyll ä¸­å¯ä»¥å¾ˆå®¹æ˜“çš„è®¿é—®åˆ°æ•°æ®ï¼Œä½¿ç”¨å˜é‡ <code>site.data.navigation</code> ã€‚ä¹‹å‰ä¹¦å†™æ¯ä¸€ä¸ªé“¾æ¥ï¼Œç°åœ¨å¯ä»¥ç”¨éå†æ•°æ®ä»£æ›¿ã€‚</p>

<pre><code class="language-html">&lt;nav&gt;
  {% for item in site.data.navigation %}
    &lt;a href=&quot;{{ item.link }}&quot; {% if item.link == page.url %} style=&quot;color: red&quot; {% endif %}&gt;{{item.name}}&lt;/a&gt;
  {% endfor %}
&lt;/nav&gt;
</code></pre>

<p>ç°åœ¨è¾“å‡ºå†…å®¹ä¼šå’Œä¹‹å‰ä¸€è‡´ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼Œç°åœ¨å¯ä»¥æ›´æ–¹ä¾¿çš„æ·»åŠ ä¸€ä¸ªæ–°çš„å¯¼èˆªé¡¹å’Œæ”¹å˜ html ç»“æ„ã€‚</p>

<p>è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å¤„ç† Jekyll ä¸­çš„èµ„æº(CSS, JS and images)ã€‚</p>

<h2 id="7-assets">7. assets</h2>

<p>Jekyll å¯ä»¥ç›´æ¥ä½¿ç”¨ CSS, JS, images å’Œå…¶ä»–èµ„æºæ–‡ä»¶ã€‚å°†ä»–ä»¬æ”¾åˆ°ç«™ç‚¹çš„æ–‡ä»¶å¤¹ä¸­ï¼Œä»–ä»¬å°†è¢«å¤åˆ¶åˆ°æ„å»ºçš„ç«™ç‚¹ã€‚
Jekyll å¸¸å¸¸ä½¿ç”¨å¦‚ä¸‹çš„ç»“æ„ç»„ç»‡èµ„æºæ–‡ä»¶ï¼š</p>

<pre><code>.
â”œâ”€â”€ assets
â”‚   â”œâ”€â”€ css
â”‚   â”œâ”€â”€ images
â”‚   â””â”€â”€ js
...
</code></pre>

<h3 id="sass">sass</h3>

<p>åœ¨ <code>_includes/navigation.html</code> ä¸­ä½¿ç”¨è¡Œå†…æ ·å¼ä¸æ˜¯æœ€ä½³å®è·µï¼Œä»£æ›¿ä½¿ç”¨ class æ·»åŠ æ ·å¼ã€‚</p>

<pre><code class="language-html">&lt;nav&gt;
  {% for item in site.data.navigation %}
    &lt;a href=&quot;{{ item.link }}&quot; {% if item.link == page.url %}class=&quot;current&quot;{% endif %}&gt;{{ item.name }}&lt;/a&gt;
  {% endfor %}
&lt;/nav&gt;
</code></pre>

<p>ä½ å¯ä»¥ä½¿ç”¨æ ‡å‡†çš„ css è®¾ç½®æ ·å¼ï¼Œè¿™é‡Œå°†ä½¿ç”¨ Sassã€‚Sass æ˜¯å¯¹ CSS çš„å®Œç¾æ‰©å±•ï¼Œå®ƒç›´æ¥ä¼ å…¥äº† Jekyllã€‚
é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ª sass æ–‡ä»¶ï¼Œ<code>assets/css/styles.scss</code>ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>

<pre><code class="language-scss">---
---

@import 'main';
</code></pre>

<p>æœ€ä¸Šè¾¹çš„ç©ºçš„ front matter è¡¨ç¤ºå‘Šè¯‰ Jekyll éœ€è¦å¤„ç†æ–‡ä»¶ã€‚
<code>@import &quot;main&quot;;</code> å‘Šè¯‰ Sass åœ¨ <code>sass</code> ç›®å½•æŸ¥æ‰¾åä¸º <code>main.scss</code> çš„æ–‡ä»¶ï¼ˆ<code>_sass/</code>é»˜è®¤æƒ…å†µä¸‹ç›´æ¥ä½äºæ‚¨ç½‘ç«™çš„æ ¹æ–‡ä»¶å¤¹ä¸‹ï¼‰ã€‚
åœ¨è¿™ä¸ªé˜¶æ®µï¼Œä½ è®²æœ‰ä¸€ä¸ªä¸»è¦çš„ css æ–‡ä»¶ã€‚è¿™å¯¹äºå¤§å‹é¡¹ç›®æ¥è¯´ï¼Œå¯ä»¥å¾ˆå¥½çš„ç»„ç»‡ cssã€‚
åœ¨ <code>_sass/main.scss</code> åˆ›å»ºä¸€ä¸ª sass æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>

<pre><code class="language-scss">.current {
  style: green;
}
</code></pre>

<p>ç°åœ¨éœ€è¦åœ¨ layout ä¸­å¼•ç”¨æ ·å¼è¡¨ã€‚
æ‰“å¼€ <code>_layout/default.html</code>ï¼Œæ·»åŠ æ ·å¼è¡¨åˆ° <code>&lt;head&gt;</code>ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;head&gt;
  &lt;meta charset=&quot;utf-8&quot; /&gt;
  &lt;title&gt;{{page.title}}&lt;/title&gt;
  &lt;link rel=&quot;stylesheet&quot; href=&quot;/assets/css/styles.css&quot; /&gt;
&lt;/head&gt;
&lt;body&gt;
  {% include navigation.html %}
  &lt;!--  --&gt;
  {{content}}
&lt;/body&gt;
</code></pre>

<p>è¿™é‡Œå¼•ç”¨çš„ <code>style.css</code> æ˜¯ Jekyll ä¾æ®ä¹‹å‰åœ¨ <code>assets/css/styles.scss</code> ç”Ÿæˆçš„ã€‚
ç°åœ¨å½“å‰æ‰€åœ¨é¡µçš„å¯¼èˆªé¡¹çš„ä¼šå˜æˆç»¿è‰²ã€‚
ä¸‹é¢ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ Jekyll æœ€æµè¡Œçš„åŠŸèƒ½ï¼Œbloggingã€‚</p>

<h2 id="8-blogging">8. blogging</h2>

<p>ä½ å¯èƒ½æƒ³çŸ¥é“æ€æ ·æ‰èƒ½ä¸ç”¨æ•°æ®åº“å°±å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªåšå®¢ã€‚åœ¨çœŸæ­£çš„ Jekyll é£æ ¼ä¸­ï¼Œåšå®¢ä»…ç”±æ–‡æœ¬æ–‡ä»¶é©±åŠ¨ã€‚</p>

<h3 id="posts">posts</h3>

<p>åšå®¢çš„æ–‡ç« åœ¨ <code>_posts</code> æ–‡ä»¶ä¸­ï¼Œæ–‡ç« çš„æ–‡ä»¶åæœ‰ç‰¹æ®Šçš„æ ¼å¼ï¼šå‘å¸ƒæ—¶é—´ï¼Œä¹‹åæ˜¯æ ‡é¢˜ï¼Œç„¶åæ˜¯æ‹“å±•åã€‚
åˆ›å»ºä½ çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>

<pre><code class="language-md">---
layout: post
author: jill
---

A banana is an edible fruit â€“ botanically a berry â€“ produced by several kinds
of large herbaceous flowering plants in the genus Musa.

In some countries, bananas used for cooking may be called &quot;plantains&quot;,
distinguishing them from dessert bananas. The fruit is variable in size, color,
and firmness, but is usually elongated and curved, with soft flesh rich in
starch covered with a rind, which may be green, yellow, red, purple, or brown
when ripe.
</code></pre>

<p>é™¤äº† author å’Œ layoutï¼Œå®ƒå’Œ about.md ä¸€æ ·ã€‚author æ˜¯è‡ªå®šä¹‰çš„å˜é‡åç§°ï¼Œå®ƒä¸æ˜¯å¿…é¡»çš„ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºå…¶ä»–çš„åç§°ã€‚</p>

<h3 id="layout">layout</h3>

<p><code>post</code> å¸ƒå±€å¹¶ä¸å­˜åœ¨ï¼Œæ‰€ä»¥éœ€è¦åˆ›å»º <code>_layouts/post.html</code>ï¼Œè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>

<pre><code class="language-html">---
layout: default
---

&lt;h1&gt;{{ page.title }}&lt;/h1&gt;
&lt;p&gt;{{ page.date | date_to_string }} - {{ page.author }}&lt;/p&gt;

{{ content }}
</code></pre>

<p>è¿™æ˜¯ä¸€ä¸ªç»§æ‰¿å¸ƒå±€çš„ä¾‹å­ï¼Œæ–‡ç« çš„å¸ƒå±€è¾“å‡ºè¢«é»˜è®¤å¸ƒå±€åŒ…è£¹çš„æ ‡é¢˜ã€æ—¶é—´ã€ä½œè€…å’Œå†…å®¹ã€‚
è¿˜è¦æ³¨æ„ date_to_string è¿‡æ»¤å™¨ï¼Œå®ƒå°†æ—¥æœŸæ ¼å¼åŒ–ä¸ºæ›´å¥½çš„æ ¼å¼ã€‚</p>

<h3 id="list-posts">list posts</h3>

<p>ç°åœ¨æ— æ³•å¯¼èˆªåˆ°åšå®¢æ–‡ç« ï¼Œå…¸å‹çš„åšå®¢æœ‰ä¸€ä¸ªå±•ç¤ºæ–‡ç« åˆ—è¡¨çš„é¡µé¢ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±åšä¸€ä¸‹è¿™ä¸ªé¡µã€‚
Jekyll ä¸­ <code>site.posts</code> å¯ä»¥è®¿é—®åˆ°æ–‡ç« ã€‚
åœ¨æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª <code>blog.html</code>ï¼Œè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>

<pre><code class="language-html">---
layout: default
---

&lt;ul&gt;
  {% for post in site.posts %}
  &lt;li&gt;
    &lt;a href=&quot;{{ post.url }}&quot;&gt;{{ post.title }}&lt;/a&gt;
    &lt;p&gt;{{ post.excerpt }}&lt;/p&gt;
  &lt;/li&gt;
  {% endfor %}
&lt;/ul&gt;
</code></pre>

<ul>
<li><code>post.url</code>ç”± Jekyll è‡ªåŠ¨è®¾ç½®ä¸ºå¸–å­çš„è¾“å‡ºè·¯å¾„ã€‚</li>
<li><code>post.title</code>æ‹‰å–æ–‡ç« çš„æ–‡ä»¶åï¼Œå¹¶ä¸”å¯ä»¥åœ¨ front matter ä¸­çš„ title é‡å†™ã€‚</li>
<li><code>post.excerpt</code>é»˜è®¤çš„æ˜¯å†…å®¹çš„ç¬¬ä¸€ä¸ªæ®µè½ã€‚</li>
</ul>

<p>åŒæ ·ä¹Ÿéœ€è¦é€šè¿‡ä¸»å¯¼èˆªå¯¼èˆªåˆ°å½“å‰é¡µã€‚æ‰“å¼€ <code>_data/navigation.yml</code> ï¼Œä¸ºåšå®¢é¡µæ·»åŠ ä¸€ä¸ªæ¡ç›®ï¼š</p>

<pre><code class="language-yml">- name: Home
  link: /
- name: About
  link: /about.html
- name: Blog
  link: /blog.html
</code></pre>

<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä¸“æ³¨äºä¸ºæ¯ä¸ªå¸–å­ä½œè€…åˆ›å»ºä¸€ä¸ªé¡µé¢ã€‚</p>

<h2 id="9-collections">9.collections</h2>

<p>åœ¨ä½œè€…çš„ä¸»é¡µå±•ç¤ºç®€ä»‹åŠå…¶å‘å¸ƒçš„æ–‡ç« ã€‚
åšè¿™äº›ï¼Œå°†è¦ç”¨åˆ° collectionsã€‚collections ç±»ä¼¼äºå¸–å­ï¼Œåªæ˜¯å†…å®¹ä¸å¿…æŒ‰æ—¥æœŸåˆ†ç»„ã€‚</p>

<h3 id="configuration">Configuration</h3>

<p>è¦å»ºç«‹ collectionsï¼Œéœ€è¦å‘Šè¯‰ Jekyllã€‚ Jekyll é…ç½®å‘ç”Ÿåœ¨åä¸º <code>_config.yml</code> çš„æ–‡ä»¶ä¸­ã€‚
åˆ›å»ºæ–‡ä»¶ <code>_config.yml</code>ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>

<pre><code class="language-yml">collections:
  authors:
</code></pre>

<p>é‡å¯ Jekyll æœåŠ¡é‡æ–°è½½å…¥é…ç½®ã€‚åœ¨ç»ˆç«¯é”®å…¥ <code>ctrl + c</code> åœæ­¢æœåŠ¡ï¼Œä¹‹å <code>jekyll serve</code> é‡å¯æœåŠ¡ã€‚</p>

<h3 id="add-authors">add authors</h3>

<p>collections çš„æ–‡æ¡£ä½äºæ ¹ç›®å½•çš„ <code>_*collections_name*</code> æ–‡ä»¶å¤¹ä¸‹ã€‚æœ¬ä¾‹ä¸­ï¼Œä½äº <code>_authors</code> ä¸‹ã€‚
ä¸ºæ¯ä½ä½œè€…åˆ›å»ºä¸€ä¸ªæ–‡æ¡£ï¼š
<code>_authors/lune.md</code></p>

<pre><code class="language-md">---
short_name: lune
name: Lune Shao
position: Chief Editor
---

Jill is an avid fruit grower based in the south of France.
</code></pre>

<h3 id="staff-page">staff page</h3>

<p>æ·»åŠ ä¸€ä¸ªåˆ—è¡¨é¡µï¼Œå±•ç¤ºç½‘ç«™ä¸Šæ‰€æœ‰çš„ä½œè€…ã€‚åœ¨ Jekyll ä¸­ï¼Œ<code>site.authors</code> å¯ä»¥æ–¹å¼ collectionã€‚
åˆ›å»º <code>staff.html</code>ï¼Œéå† <code>site.author</code> è¾“å‡ºæ‰€æœ‰ä½œè€…ï¼š</p>

<pre><code class="language-html">---
layout: default
title: Staff
---

&lt;h1&gt;Staff&lt;/h1&gt;

authors
&lt;ul&gt;
  {% for author in site.authors %}
  &lt;li&gt;
    &lt;h2&gt;{{ author.name }}&lt;/h2&gt;
    &lt;h3&gt;{{ author.position }}&lt;/h3&gt;
    &lt;p&gt;{{ author.content | markdownify }}&lt;/p&gt;
  &lt;/li&gt;
  {% endfor %}
&lt;/ul&gt;
</code></pre>

<p>ç”±äºå†…å®¹æ˜¯ markdownï¼Œå› æ­¤æ‚¨éœ€è¦é€šè¿‡ markdownify è¿‡æ»¤å™¨è¿è¡Œå®ƒã€‚åœ¨å¸ƒå±€ä¸­ä½¿ç”¨ {{content}} è¾“å‡ºæ—¶ï¼Œä¼šè‡ªåŠ¨å‘ç”Ÿè¿™ç§æƒ…å†µã€‚
åœ¨ä¸»å¯¼èˆªä¹Ÿéœ€è¦å¯¼èˆªåˆ°å½“å‰é¡µã€‚æ‰“å¼€ <code>_data/navigation.yml</code> è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>

<pre><code class="language-yml">- name: Home
  link: /
- name: About
  link: /about.html
- name: Blog
  link: /blog.html
- name: Staff
  link: /staff.html
</code></pre>

<h3 id="output-a-page">output a page</h3>

<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œé›†åˆä¸è¾“å‡ºæ–‡æ¡£é¡µé¢ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›æ¯ä¸ªä½œè€…éƒ½æœ‰è‡ªå·±çš„é¡µé¢ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥è°ƒæ•´é›†åˆé…ç½®ã€‚
æ‰“å¼€ <code>_config.yml</code> æ·»åŠ  <code>output: true</code> åˆ° author collection çš„é…ç½®ï¼š</p>

<pre><code class="language-yml">collections:
  authors:
    output: true
</code></pre>

<p>æ‚¨å¯ä»¥ä½¿ç”¨ author.url é“¾æ¥åˆ°è¾“å‡ºé¡µé¢ã€‚
å°†é“¾æ¥æ·»åŠ åˆ° staff.html é¡µé¢ï¼š</p>

<pre><code class="language-html">---
layout: default
title: Staff
---

&lt;h1&gt;Staff&lt;/h1&gt;

&lt;ul&gt;
  {% for author in site.authors %}
  &lt;li&gt;
    &lt;h2&gt;&lt;a href=&quot;{{ author.url }}&quot;&gt;{{ author.name }}&lt;/a&gt;&lt;/h2&gt;
    &lt;h3&gt;{{ author.position }}&lt;/h3&gt;
    &lt;p&gt;{{ author.content | markdownify }}&lt;/p&gt;
  &lt;/li&gt;
  {% endfor %}
&lt;/ul&gt;
</code></pre>

<p>å°±åƒæ–‡ç« ä¸€æ ·ï¼Œæ‚¨éœ€è¦ä¸ºä½œè€…åˆ›å»ºå¸ƒå±€ã€‚
åˆ›å»º <code>_layouts/author.html</code> è¾“å…¥ä»¥ä¸‹å†…å®¹:</p>

<pre><code class="language-html">---
layout: default
---

&lt;h1&gt;{{ page.name }}&lt;/h1&gt;
&lt;h2&gt;{{ page.position }}&lt;/h2&gt;

{{ content }}
</code></pre>

<h3 id="front-matter-defaultspermalink">front matter defaultsPermalink</h3>

<p>ç°åœ¨éœ€è¦é…ç½®ä½œè€…æ–‡ç« ä½¿ç”¨ä½œè€…å¸ƒå±€ï¼Œä½ å¯ä»¥æƒ³ä¹‹å‰ä¸€é¡¹åœ¨ front matter ä¸­é…ç½®ã€‚
ä½ æƒ³è®©æ–‡ç« ä½¿ç”¨æ–‡ç« å¸ƒå±€ï¼Œä½œè€…ä½¿ç”¨ä½œè€…å¸ƒå±€ï¼Œå…¶ä»–ä½¿ç”¨é»˜è®¤å¸ƒå±€ã€‚
å¯ä»¥é€šè¿‡åœ¨ <code>_config.yml</code> ä¸­ä½¿ç”¨ front matter defaults å®Œæˆã€‚
æ‚¨å¯ä»¥è®¾ç½®é€‚ç”¨äºé»˜è®¤è®¾ç½®çš„èŒƒå›´ï¼Œç„¶åè®¾ç½®æ‚¨æƒ³è¦çš„ front matter å†…å®¹ã€‚
è¾“å…¥å¦‚ä¸‹å†…å®¹åˆ° <code>_config.yml</code>ï¼š</p>

<pre><code class="language-yml">collections:
  authors:
    output: true

defaults:
  - scope:
      path: ''
      type: 'authors'
    values:
      layout: 'author'
  - scope:
      path: ''
      type: 'posts'
    values:
      layout: 'post'
  - scope:
      path: ''
    values:
      layout: 'default'
</code></pre>

<p>ç°åœ¨å¯ä»¥ç§»é™¤æ¯ä¸ªé¡µé¢ front matter ä¸­çš„ layoutã€‚æ³¨æ„ï¼Œæ¯æ¬¡æ›´æ”¹ <code>_config.yml</code>ï¼Œéƒ½è¦é‡å¯æœåŠ¡ï¼Œä»¥è®©é…ç½®ç”Ÿæ•ˆã€‚</p>

<h3 id="list-author-s-post">list author&rsquo;s post</h3>

<p>è®©æˆ‘ä»¬åˆ—å‡ºä½œè€…åœ¨å…¶é¡µé¢ä¸Šå‘å¸ƒçš„å¸–å­ã€‚ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦å°†ä½œè€… short_name ä¸å¸–å­ä½œè€…åŒ¹é…ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å®ƒæŒ‰ä½œè€…è¿‡æ»¤å¸–å­ã€‚
éå† <code>_layouts/author.html</code> ä¸­çš„æ­¤è¿‡æ»¤åˆ—è¡¨ï¼Œä»¥è¾“å‡ºä½œè€…çš„å¸–å­ï¼š</p>

<pre><code class="language-html">---
layout: default
---

&lt;h1&gt;{{ page.name }}&lt;/h1&gt;
&lt;h2&gt;{{ page.position }}&lt;/h2&gt;

{{ content }}

&lt;h2&gt;Posts&lt;/h2&gt;
&lt;ul&gt;
  {% assign filtered_posts = site.posts | where: 'author', page.short_name %} {%
  for post in filtered_posts %}
  &lt;li&gt;&lt;a href=&quot;{{ post.url }}&quot;&gt;{{ post.title }}&lt;/a&gt;&lt;/li&gt;
  {% endfor %}
&lt;/ul&gt;
</code></pre>

<h3 id="link-to-authors-page">link to authors page</h3>

<p>è¿™äº›å¸–å­å¼•ç”¨äº†ä½œè€…ï¼Œå› æ­¤æˆ‘ä»¬å°†å…¶é“¾æ¥åˆ°ä½œè€…çš„é¡µé¢ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ <code>_layouts/post.html</code> ä¸­çš„ç±»ä¼¼è¿‡æ»¤æŠ€æœ¯æ¥æ‰§è¡Œæ­¤æ“ä½œï¼š</p>

<pre><code class="language-html">---
layout: default
---

&lt;h1&gt;{{ page.title }}&lt;/h1&gt;

&lt;p&gt;
  {{ page.date | date_to_string }} {% assign author = site.authors | where:
  'short_name', page.author | first %} {% if author %} -
  &lt;a href=&quot;{{ author.url }}&quot;&gt;{{ author.name }}&lt;/a&gt;
  {% endif %}
&lt;/p&gt;

{{ content }}
</code></pre>

<h2 id="10-éƒ¨ç½²">10. éƒ¨ç½²</h2>

<h3 id="gemfile">Gemfile</h3>

<p>æœ€å¥½ä¸ºæ‚¨çš„ç½‘ç«™æ·»åŠ ä¸€ä¸ª Gemfileã€‚å®ƒç¡®ä¿äº† Jekyll å’Œ gems åœ¨ä¸åŒçš„ç¯å¢ƒçš„ç‰ˆæœ¬ä¿æŒä¸€è‡´ã€‚
åœ¨æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª Gemfileï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>

<pre><code class="language-Gemfile">source 'https://rubygems.org'

gem 'jekyll'
</code></pre>

<p>åœ¨ç»ˆç«¯è¿è¡Œ <code>bundle install</code>ï¼Œè¿™å°†å®‰è£… gem å¹¶åˆ›å»º Gemfile.lockï¼Œè¯¥æ–‡ä»¶å°†é”å®šå½“å‰ gem ç‰ˆæœ¬ä»¥ä¾›å°†æ¥ <code>bundle install</code>ã€‚å¦‚æœä½ æƒ³æ›´æ–° gem ç‰ˆæœ¬å¯ä»¥è¿è¡Œ <code>bundle update</code>ã€‚
å½“ä½¿ç”¨ Gemfile æ—¶ï¼Œä½ å°†åœ¨è¿è¡Œåƒ <code>jekyll serve</code> è¿™æ ·çš„å‘½ä»¤æ—¶,å‰é¢åŠ ä¸Šå‰ç¼€ <code>bundle exec</code>ã€‚å®Œæ•´çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p>

<pre><code>bundle exec jekyll serve
</code></pre>

<p>è¿™é™åˆ¶äº†æ‚¨çš„ Ruby ç¯å¢ƒåªèƒ½ä½¿ç”¨ Gemfile ä¸­è®¾ç½®çš„ gemã€‚</p>

<h3 id="plugins">Plugins</h3>

<p>Jekyll æ’ä»¶å…è®¸ä½ åˆ›å»ºç‰¹å®šäºç«™ç‚¹çš„è‡ªå®šä¹‰ç”Ÿæˆå†…å®¹ã€‚
å‡ ä¹åœ¨æ‰€æœ‰ Jekyll ç½‘ç«™ä¸Šéƒ½æœ‰ä¸‰ä¸ªå®˜æ–¹æ’ä»¶å¯ç”¨ï¼š</p>

<ul>
<li><a href="https://github.com/jekyll/jekyll-sitemap" rel="nofollow noreferrer" target="_blank">jekyll-sitemap</a> åˆ›å»ºä¸€ä¸ª sitemap æ–‡ä»¶å¸®åŠ©æœç´¢å¼•æ“ç´¢å¼•å†…å®¹</li>
<li><a href="https://github.com/jekyll/jekyll-feed" rel="nofollow noreferrer" target="_blank">jekyll-feed</a> ä¸ºç«™ç‚¹æ–‡ç« åˆ›å»ºä¸€ä¸ª RSS feed</li>
<li><a href="https://github.com/jekyll/jekyll-seo-tag" rel="nofollow noreferrer" target="_blank">jekyll-seo-tag</a> æ·»åŠ  meta æ ‡ç­¾å¸®åŠ© SEO</li>
</ul>

<p>ä¸ºäº†ä½¿ç”¨è¿™äº›æ’ä»¶ï¼Œé¦–å…ˆéœ€è¦æ·»åŠ ä»–ä»¬åˆ° Gemfileã€‚å¦‚æœä½ å°†å®ƒä»¬æ”¾åˆ° <code>jekyll_plugins</code> groupï¼Œå®ƒä»¬å°†è‡ªåŠ¨çš„è¢«åŠ è½½åˆ° Jekyllï¼š</p>

<pre><code class="language-Gemfile">source 'https://rubygems.org'

gem 'jekyll'

group :jekyll_plugins do
  gem 'jekyll-sitemap'
  gem 'jekyll-feed'
  gem 'jekyll-seo-tag'
end
</code></pre>

<p>ä¹‹åæ·»åŠ è¿™äº›è¡Œåˆ° <code>_config.yml</code>:</p>

<pre><code class="language-yml">plugins:
  - jekyll-feed
  - jekyll-sitemap
  - jekyll-seo-tag
</code></pre>

<p>ç°åœ¨è¿è¡Œ <code>bundle update</code> æ¥å®‰è£…å®ƒä»¬ã€‚ï¼ˆè¿™ä¸€æ­¥å®‰è£…åŒ…ä¼šæ¯”è¾ƒæ…¢ï¼Œéœ€è¦ç­‰ä¸€ä¸‹ï¼‰
<code>jekyll-sitemap</code> ä¸éœ€è¦ä»»ä½•è®¾ç½®ï¼Œå®ƒä¼šåœ¨æ„å»ºçš„æ—¶å€™è‡ªåŠ¨ç”Ÿæˆã€‚
å¯¹äº <code>jekyll-feed</code> å’Œ <code>jekyll-seo-tag</code>ï¼Œæ‚¨éœ€è¦å°†æ ‡ç­¾æ·»åŠ åˆ° <code>_layouts/default.html</code>:</p>

<pre><code class="language-txt">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;title&gt;{{ page.title }}&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;/assets/css/styles.css&quot; /&gt;
    {% feed_meta %} {% seo %}
  &lt;/head&gt;
  &lt;body&gt;
    {% include navigation.html %} {{ content }}
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>é‡å¯ Jekyll æœåŠ¡ï¼Œæ£€æŸ¥æ·»åŠ åˆ°<head>çš„è¿™äº›æ ‡ç­¾ã€‚</p>

<h3 id="environments">Environments</h3>

<p>æœ‰æ—¶ä½ å¯èƒ½æƒ³è¦åœ¨ç”Ÿäº§ç¯å¢ƒè¾“å‡ºä¸€äº›å†…å®¹ï¼Œå¼€å‘ç¯å¢ƒä¸è¾“å‡ºã€‚åˆ†æç”¨çš„è„šæœ¬æ˜¯æœ€å¸¸è§çš„ç¤ºä¾‹ã€‚
å®ç°è¿™ä¸ªä½ å¯ä»¥ä½¿ç”¨ <code>environments</code>ã€‚ä½ å¯ä»¥åœ¨è¿è¡Œå‘½ä»¤æ—¶ï¼Œä½¿ç”¨ <code>JEKYLL_ENV</code> ç¯å¢ƒå˜é‡è®¾ç½®ç¯å¢ƒã€‚ä¾‹å¦‚ï¼š</p>

<pre><code>JEKYLL_ENV=production bundle exec jekyll build
</code></pre>

<p><code>JEKYLL_ENV</code> é»˜è®¤æ˜¯ developmentã€‚æ‚¨å¯ä»¥åœ¨ liquid ä¸­ä½¿ç”¨ <code>jekyll.environment</code> åº”ç”¨ JEKYLL_ENVã€‚ä»…åœ¨ç”Ÿäº§ç¯å¢ƒè¾“å‡ºè¾“å‡ºåˆ†æè„šæœ¬ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>

<pre><code class="language-html">{% if jekyll.environment == &quot;production&quot; %}
&lt;script src=&quot;my-analytics-script.js&quot;&gt;&lt;/script&gt;
{% endif %}
</code></pre>

<h3 id="deployment">Deployment</h3>

<p>æœ€åä¸€æ­¥æ˜¯å°†ç«™ç‚¹æ·»åŠ åˆ°ç”Ÿäº§æœåŠ¡å™¨ã€‚æœ€åŸºæœ¬çš„æ–¹æ³•æ˜¯è¿è¡Œç”Ÿäº§ç‰ˆæœ¬ï¼š</p>

<pre><code>JEKYLL_ENV=production bundle exec jekyll build
</code></pre>

<p>å¹¶å°†<code>_site</code> çš„å†…å®¹å¤åˆ¶åˆ°æ‚¨çš„æœåŠ¡å™¨ã€‚
æ›´å¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨ CI æˆ–ç¬¬ä¸‰æ–¹æ¥è‡ªåŠ¨æ‰§è¡Œæ­¤è¿‡ç¨‹ã€‚</p>

<p>å‚è€ƒï¼š<a href="https://www.imqianduan.com/git-svn/335.html" rel="nofollow noreferrer" target="_blank">ä½¿ç”¨ git hooks(post-receive)å®ç°ç®€å•çš„è¿œç¨‹è‡ªåŠ¨éƒ¨ç½²</a>åŠ<a href="https://jekyllrb.com/docs/deployment/automated/" rel="nofollow noreferrer" target="_blank">å®˜æ–¹æ–‡æ¡£</a></p>

<ul>
<li><p>ç¬¬ä¸€æ­¥ã€ä½¿ç”¨ ssh ç™»å…¥è‡ªå·±çš„æœåŠ¡å™¨ï¼Œåœ¨ç»ˆç«¯è¾“å…¥ï¼ˆç™»å…¥æˆåŠŸåé»˜è®¤è¿›å…¥<code>/root</code> ç›®å½•ï¼‰ï¼š</p>

<pre><code>ssh user@deployer@example.com
</code></pre></li>

<li><p>ç¬¬äºŒæ­¥ã€åˆ›å»ºä¸€ä¸ªè£¸ä»“åº“ï¼Œä»“åº“åå¯ä»»æ„</p>

<pre><code>git --bare init myblog
</code></pre></li>

<li><p>ç¬¬ä¸‰æ­¥ã€è¿›å…¥è£¸ä»“åº“ï¼Œé…ç½® <code>hooks/post-receive</code>:</p>

<ul>
<li>å¦‚æœæœ‰ <code>post-receive.sample</code> å¯ä»¥æ‰§è¡Œ <code>cp post-receive.sample post-receive</code>ï¼Œé”®å…¥ä¸‹è¾¹çš„ä»£ç  (.sample æ–‡ä»¶æ˜¯ä¸€äº›ç¤ºä¾‹æ–‡ä»¶ï¼Œä¸èµ·ä½œç”¨)</li>

<li><p>å¦‚æœæ²¡æœ‰ä¸Šè¾¹çš„æ–‡ä»¶å¯ä»¥ç›´æ¥è‡ªè¡Œåˆ›å»º <code>post-receive</code> æ–‡ä»¶ï¼Œé”®å…¥å¦‚ä¸‹ä»£ç ï¼š</p>

<pre><code>$ vi post-receive   # è¿›å…¥æ–‡ä»¶ï¼Œè¾“å…¥å­—æ¯ `i` è¿›è¡Œè¾“å…¥å†…å®¹ã€‚
$ # å¤åˆ¶ä»¥ä¸‹å†…å®¹ç¡®è®¤åï¼Œé”®å…¥ `esc` =&gt; `:wq`ï¼Œä¿å­˜ã€‚
</code></pre>

<pre><code>#!/bin/bash -l

# Install Ruby Gems to ~/gems
export GEM_HOME=/usr/local/gems # gemçš„å®‰è£…ç›®å½•ï¼Œè‡ªè¡Œé…ç½®ï¼ˆgem environment gemdir å‘½ä»¤å¯æŸ¥çœ‹ï¼‰
export PATH=$GEM_HOME/bin:$PATH

GIT_REPO=$HOME/myrepo.git # è£¸ä»“åº“çš„åœ°å€ï¼Œè‡ªè¡Œé…ç½®
TMP_GIT_CLONE=$HOME/tmp/myrepo
GEMFILE=$TMP_GIT_CLONE/Gemfile
PUBLIC_WWW=/var/www/myblog # webæœåŠ¡çš„åœ°å€ï¼Œè‡ªè¡Œé…ç½®ï¼ˆéœ€å…ˆåˆ›å»ºï¼‰

git clone $GIT_REPO $TMP_GIT_CLONE
BUNDLE_GEMFILE=$GEMFILE bundle install
BUNDLE_GEMFILE=$GEMFILE bundle exec jekyll build -s $TMP_GIT_CLONE -d $PUBLIC_WWW
rm -Rf $TMP_GIT_CLONE
exit
</code></pre></li>

<li><p>ä¿å­˜åï¼Œç»™ post-receive æ–‡ä»¶æ‰§è¡Œæƒé™</p>

<pre><code>$ chmod +x post-receive
</code></pre></li>
</ul></li>

<li><p>ç¬¬å››æ­¥ã€åœ¨æœ¬åœ°çš„ git ä»“åº“æ·»åŠ éƒ¨ç½²çš„è¿œç«¯åœ°å€</p>

<pre><code>$ git remote add deploy deployer@example.com:~/myrepo.git # deployer@example.com(ç”¨æˆ·ååŠæœåŠ¡å™¨IPæˆ–åŸŸå)ï¼›~/myrepo.gitï¼ˆè£¸ä»“åº“çš„è·¯å¾„ï¼‰
</code></pre></li>

<li><p>ç¬¬äº”æ­¥ã€éƒ¨ç½²ã€‚åœ¨æœ¬åœ°ä»“åº“æ‰§è¡Œæ¨é€ï¼Œç„¶åæŸ¥çœ‹æ˜¯å¦æˆåŠŸéƒ¨ç½²ã€‚</p>

<pre><code>$ git push deploy master
</code></pre></li>

<li><p>å¸¸è§é”™è¯¯ï¼š</p>

<ul>
<li>1ã€ç¡®è®¤å·²å®‰è£…<code>ruby</code>ã€<code>gem</code>ã€<code>jekyll</code>ã€<code>bundle</code>ã€‚å¹¶ä¸” <code>ruby</code> ç‰ˆæœ¬è¦é«˜äº <code>2.3.</code>ã€‚</li>
<li>2ã€è®°å¾—ç»™ post-receive æ·»åŠ æ‰§è¡Œæƒé™ã€‚</li>

<li><p>3ã€</p>

<pre><code>remote: æ­£å…‹éš†åˆ° '/root/tmp/myrepo'...
remote: å®Œæˆã€‚
remote: hooks/post-receive:è¡Œ13: bundle: æœªæ‰¾åˆ°å‘½ä»¤
remote: hooks/post-receive:è¡Œ14: bundle: æœªæ‰¾åˆ°å‘½ä»¤
To *.*.*.*:~/myrepo.git
f5d6969..0be15d2  master -&gt; master
</code></pre>

<p>è§£å†³åŠæ³•ï¼š å®‰è£… bundle</p></li>

<li><p>4ã€</p>

<pre><code>remote: Don't run Bundler as root. Bundler can ask for sudo if it is needed, and
remote: installing your bundle as root will break this application for all non-root
remote: users on this machine.
</code></pre>

<p>è¿™ä¸ªé—®é¢˜å‡ºç°ä¹‹åå°±å¡ä½ä¸åŠ¨äº†ï¼Œçœ‹åˆ°ä¸€ä¸ª<a href="https://stackoverflow.com/questions/55909543/you-must-use-bundler-2-or-greater-with-this-lockfile-when-running-docker-compos" rel="nofollow noreferrer" target="_blank">ç­”æ¡ˆ</a>ï¼ŒæŒ‰ç­”æ¡ˆè£…äº†ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p></li>
</ul></li>
</ul>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>LuneShao </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://luneshao.github.io/2020/2020-03-23-jekyll-blog/>https://luneshao.github.io/2020/2020-03-23-jekyll-blog/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                æœ¬æ–‡é‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯
            </p>
            
    </div>
  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://luneshao.github.io/tags/jekyll/">
                    #jekyll</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> Â· 
                <span><a href="https://luneshao.github.io/">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://luneshao.github.io/2020/2020-03-22-html-note/" class="prev" rel="prev" title="html å›æ»š"><i class="iconfont icon-left"></i>&nbsp;html å›æ»š</a>
         
        
        <a href="https://luneshao.github.io/2020/2020-04-02-tencent-server-ssh/" class="next" rel="next" title="ä¿®æ”¹è…¾è®¯äº‘é»˜è®¤è¿œç¨‹è¿æ¥ç«¯å£">ä¿®æ”¹è…¾è®¯äº‘é»˜è®¤è¿œç¨‹è¿æ¥ç«¯å£&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
        <div id="vcomment"></div>
          
                 
          
    </div>
    <script>
        new Valine({
          el: '#vcomment' ,
          appId: 'VMtRNdHhQOQVoiWu2y2dQnJb-gzGzoHsz',
          appKey: '073437m7LGtKY9mmCQioFbKI',
          notify:true, 
          verify:false, 
          avatar:'wavatar', 
          recordIP: true,
          visitor: true, 
          placeholder: 'ä½ å¥½å“‡ï¼Œå¿«æ¥æˆ³æˆ‘åæ§½å§ï¼ğŸ‰' 
        })
    </script>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2019 - 2020</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://luneshao.github.io/">LuneShao</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  



     </div>
  </body>
</html>
